(function(t){function e(e){for(var r,c,i=e[0],s=e[1],u=e[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},o=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("form",{on:{click:function(t){t.preventDefault()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.board.list,expression:"board.list"}],staticClass:"inputCreateList",attrs:{type:"text",placeholder:"List title"},domProps:{value:t.board.list},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createNewList.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.board,"list",e.target.value)}}}),r("input",{attrs:{type:"button",value:"Create List"},on:{click:t.createNewList}})]),t.textMessage?r("div",{staticClass:"error"},[t._v("You can delete only empty list")]):t._e(),t.lists.length?t._e():r("div",{staticClass:"noLists"},[r("h2",[t._v("Add your first board")])]),r("div",{staticClass:"wrapper"},t._l(t.lists,(function(e,a){return r("div",{key:a,staticClass:"list",on:{dragover:function(t){t.preventDefault()},dragenter:function(t){t.preventDefault()},drop:function(e){return t.onDrop(e,a)}}},[r("div",{staticClass:"list__header"},[r("button",{on:{click:function(t){e.isActive=!e.isActive}}},[t._v("+ add new cart")]),e.isActive?r("form",{on:{click:function(t){t.preventDefault()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.card.title,expression:"card.title"}],staticClass:"inputCreateCard",attrs:{type:"text",placeholder:"Card title"},domProps:{value:t.card.title},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createNewCard(a)},input:function(e){e.target.composing||t.$set(t.card,"title",e.target.value)}}}),r("input",{attrs:{type:"button",value:"Create Card"},on:{click:function(e){return t.createNewCard(a)}}})]):t._e()]),r("div",{staticClass:"list__main"},[r("h3",[t._v(t._s(e.list))]),t._l(e.cards,(function(e,o){return r("div",{key:o,staticClass:"card",attrs:{draggable:"true"},on:{dragstart:function(e){return t.onDrag(e,o,a)}}},[r("p",[t._v(t._s(e.title))]),r("button",{on:{click:function(e){return t.deleteCard(a,o)}}},[r("img",{attrs:{src:n("d77d")}})]),r("span",[t._v(t._s(t.time(a,o)))])])}))],2),r("div",{staticClass:"list__footer"},[r("button",{on:{click:function(e){return t.deleteList(a)}}},[t._v("delete list "),r("img",{attrs:{src:n("d77d")}})])])])})),0)])},o=[],c=n("1da1"),i=(n("99af"),n("a434"),n("96cf"),n("bc3a")),s=n.n(i),u={name:"App",data:function(){return{lists:[],board:{list:"",cards:[],isActive:!1},card:{title:"",createdTime:0},textMessage:!1}},beforeMount:function(){var t=this;s.a.get("http://localhost:3000/lists").then((function(e){t.lists=e.data})).catch((function(t){return console.log("Error",t)}))},methods:{onDrop:function(t,e){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.dataTransfer.getData("card"),r.next=3,s.a.post("http://localhost:3000/lists/".concat(e,"/drop"),JSON.parse(a)).then((function(t){return n.render()})).catch((function(t){return console.log(t)}));case 3:case"end":return r.stop()}}),r)})))()},onDrag:function(t,e,n){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=r.lists[n].cards,t.dataTransfer.setData("card",JSON.stringify(o[e])),a.next=4,s.a.post("http://localhost:3000/lists/".concat(n,"/cards/").concat(e,"/drag"),o[e]).catch((function(t){return console.log(t)}));case 4:setTimeout((function(){o.splice(o.indexOf(o[e]),1)}),0);case 5:case"end":return a.stop()}}),a)})))()},render:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("http://localhost:3000/lists").then((function(e){t.lists=e.data})).catch((function(t){return console.log("Error",t)}));case 2:case"end":return e.stop()}}),e)})))()},createNewList:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("http://localhost:3000/lists",t.board).then((function(e){t.board.list="",t.render()})).catch((function(t){return console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},deleteList:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.lists[t].cards.length){n.next=5;break}return n.next=3,s.a.delete("http://localhost:3000/lists/delete/".concat(t)).then((function(t){return e.render()})).catch((function(t){return console.log(t)}));case 3:n.next=7;break;case 5:e.textMessage=!0,setTimeout((function(){e.textMessage=!1}),3e3);case 7:case"end":return n.stop()}}),n)})))()},createNewCard:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.card.title.length>=1)){n.next=6;break}return e.card.createdTime=Date.now(),n.next=4,s.a.post("http://localhost:3000/lists/".concat(t,"/cards"),e.card).then((function(n){e.card.title="",e.lists[t].isActive=!1,e.render()})).catch((function(t){return console.log(t)}));case 4:n.next=8;break;case 6:e.card.title="",e.lists[t].isActive=!1;case 8:case"end":return n.stop()}}),n)})))()},deleteCard:function(t,e){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s.a.delete("http://localhost:3000/lists/".concat(t,"/cards/delete/").concat(e)).then((function(t){return n.render()})).catch((function(t){return console.log(t)}));case 2:case"end":return r.stop()}}),r)})))()},time:function(t,e){var n=(Date.now()-this.lists[t].cards[e].createdTime)/1e3;return n<60?"".concat(parseInt(n)," sec ago"):n<3600&&n>=60?"".concat(parseInt(n/60)," min ago"):n<86400&&n>=3600?"".concat(parseInt(n/3600)," hour ago"):n>=86400?"".concat(parseInt(n/86400)," day ago"):void 0}}},l=u,d=(n("5c0b"),n("2877")),p=Object(d["a"])(l,a,o,!1,null,null,null),f=p.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(f)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},d77d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAQAAADlauupAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQflCBURLAzwiSI/AAABNUlEQVQ4y62SMY6CUBCG/8GNMUQjhYmNB/ACNnY2NnoCOyuvYO8BNPEC1nYWchIvQUCBQExUYLYYdMEHuJvsn5D3eDPzzf8mDygR8/HIfLnIdzoxGwb+IubZ7LVPxmNOOp2iPPop6PeBzQZcq32k03pNZJpvHZdL/q2S/V5xIFbrdVCvV3032yYtCEruPZ9LhzCUVnHMfL3mz7bbbI2WR7iu+BoM5P9wAFYrOZtOAct65RQC2HFkjSLgdgMeD9k/Y7oO2HY5gJ5BwwB8Px8LQ6DZrAYgC/C8twExQPQB4LpAFAHtdh6QJKD0fXAFgIgZOJ9VB0EAbrUkKZ1TsQMAcBwV4PviKjPoVF9KPVsWaDgEul2g0QDFMVjXQZMJ4Hmk3e8510o9j0bAYgHWVHdkmkS7Hf5T33ZC1L3sHNapAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA4LTIxVDE3OjQ0OjEyKzAwOjAwajo7gAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wOC0yMVQxNzo0NDoxMiswMDowMBtngzwAAAAASUVORK5CYII="}});
//# sourceMappingURL=app.70ec62b3.js.map